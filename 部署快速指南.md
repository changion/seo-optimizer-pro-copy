# 🚀 部署快速指南

## 🎯 最简单的部署方案（推荐新手）

### 方案：Vercel（前端）+ Railway（后端）

**优点**：
- ✅ 完全免费（有限额）
- ✅ 自动部署
- ✅ 自动HTTPS
- ✅ 无需服务器管理

---

## 📝 步骤1：部署后端到 Railway

### 1.1 准备代码

确保 `server` 目录下有：
- ✅ `package.json`
- ✅ `server.js`
- ✅ `services/seoAnalyzer.js`
- ✅ `.env`（本地开发用，部署时在Railway配置）

### 1.2 部署步骤

1. **访问 Railway**
   - 网址：https://railway.app
   - 使用GitHub账号登录

2. **创建项目**
   - 点击 "New Project"
   - 选择 "Deploy from GitHub repo"
   - 选择您的仓库
   - **重要**：在 "Root Directory" 中选择 `server` 目录

3. **配置环境变量**
   在Railway项目设置 → Variables 中添加：
   ```
   PORT=3000
   NODE_ENV=production
   CORS_ORIGIN=https://your-frontend.vercel.app
   ```
   （先留空CORS_ORIGIN，等前端部署后再更新）

4. **获取后端URL**
   - Railway会自动分配域名
   - 例如：`https://seo-api-production.up.railway.app`
   - 复制这个URL

---

## 📝 步骤2：部署前端到 Vercel

### 2.1 更新API地址

编辑 `seo-analyzer.js`，找到：

```javascript
const API_BASE_URL = 'http://localhost:3000/api';
```

改为：

```javascript
const API_BASE_URL = 'https://your-railway-url.up.railway.app/api';
```

（使用步骤1.4中复制的Railway URL）

### 2.2 部署到Vercel

**方法A：使用GitHub（推荐）**

1. 将代码推送到GitHub
2. 访问 https://vercel.com
3. 点击 "Add New..." → "Project"
4. 导入GitHub仓库
5. 配置：
   - Framework Preset: **Other**
   - Build Command: （留空）
   - Output Directory: **./**（点斜杠）
6. 点击 "Deploy"

**方法B：使用Vercel CLI**

```bash
# 安装
npm i -g vercel

# 登录
vercel login

# 部署
vercel

# 生产环境
vercel --prod
```

### 2.3 获取前端URL

- Vercel会自动分配域名
- 例如：`https://seo-optimizer.vercel.app`
- 复制这个URL

---

## 📝 步骤3：更新CORS配置

回到Railway，更新环境变量：

```
CORS_ORIGIN=https://seo-optimizer.vercel.app
```

（使用步骤2.3中的Vercel URL）

Railway会自动重新部署。

---

## 📝 步骤4：测试

1. 访问前端URL：`https://your-app.vercel.app`
2. 打开SEO分析工具
3. 输入网站URL测试
4. 检查是否正常工作

---

## 🔧 自定义域名（可选）

### Vercel自定义域名

1. 在Vercel项目设置 → Domains
2. 添加您的域名
3. 按照提示配置DNS

### Railway自定义域名

1. 在Railway项目设置 → Settings → Domains
2. 添加自定义域名
3. 配置DNS CNAME记录

---

## 💰 费用说明

### 免费额度

**Vercel**：
- ✅ 无限部署
- ✅ 100GB带宽/月
- ✅ 自动HTTPS

**Railway**：
- ✅ $5免费额度/月
- ✅ 约500小时运行时间
- ✅ 自动HTTPS

### 超出后

- Vercel：按使用量付费
- Railway：$5/月起

---

## 🐛 常见问题

### 问题1：CORS错误

**解决**：
1. 检查Railway的 `CORS_ORIGIN` 环境变量
2. 确保与Vercel域名完全匹配（包括https://）
3. 重新部署后端

### 问题2：API无法访问

**解决**：
1. 检查Railway项目是否运行
2. 查看Railway日志
3. 测试健康检查：`https://your-railway-url/api/health`

### 问题3：前端找不到API

**解决**：
1. 检查 `seo-analyzer.js` 中的 `API_BASE_URL`
2. 确保使用完整的Railway URL
3. 重新部署前端

---

## 📚 详细文档

完整部署指南请查看：`DEPLOYMENT.md`

---

## ✅ 部署检查清单

- [ ] 后端已部署到Railway
- [ ] 获取了后端URL
- [ ] 更新了前端 `seo-analyzer.js` 中的API地址
- [ ] 前端已部署到Vercel
- [ ] 获取了前端URL
- [ ] 更新了Railway的CORS_ORIGIN
- [ ] 测试功能正常

---

**完成！您的网站已上线！** 🎉

