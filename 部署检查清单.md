# ✅ 部署检查清单

## 📋 部署前准备

### 代码准备
- [ ] 所有代码已提交到Git仓库（GitHub/GitLab等）
- [ ] 测试本地功能正常
- [ ] 代码无敏感信息（API密钥等）

### 配置文件
- [ ] 更新 `config.js` 中的生产环境API地址
- [ ] 检查 `seo-analyzer.js` 中的API配置
- [ ] 确认 `.gitignore` 已包含敏感文件

---

## 🚀 后端部署（Railway）

### 部署步骤
- [ ] 在Railway创建新项目
- [ ] 连接GitHub仓库
- [ ] 选择 `server` 目录作为根目录
- [ ] 配置环境变量：
  - [ ] `PORT=3000`
  - [ ] `NODE_ENV=production`
  - [ ] `CORS_ORIGIN=https://your-frontend-domain.vercel.app`
- [ ] 等待部署完成
- [ ] 获取后端URL（例如：`https://xxx.railway.app`）
- [ ] 测试健康检查：`https://your-backend-url/api/health`

### 验证
- [ ] 后端URL可以访问
- [ ] `/api/health` 返回正常
- [ ] 日志无错误

---

## 🌐 前端部署（Vercel）

### 部署步骤
- [ ] 更新 `config.js` 中的 `production.apiBaseUrl` 为后端URL
- [ ] 提交代码到Git
- [ ] 在Vercel创建新项目
- [ ] 连接GitHub仓库
- [ ] 配置：
  - [ ] Framework Preset: Other
  - [ ] Build Command: （留空）
  - [ ] Output Directory: ./
- [ ] 等待部署完成
- [ ] 获取前端URL（例如：`https://xxx.vercel.app`）

### 验证
- [ ] 前端URL可以访问
- [ ] 页面正常显示
- [ ] 无控制台错误

---

## 🔄 更新CORS配置

### 重要步骤
- [ ] 回到Railway项目设置
- [ ] 更新 `CORS_ORIGIN` 环境变量为前端URL
- [ ] 等待Railway重新部署
- [ ] 验证CORS配置正确

---

## 🧪 功能测试

### 基本功能
- [ ] 主页可以访问
- [ ] SEO分析工具页面可以访问
- [ ] 可以输入URL
- [ ] 点击"Analyze SEO"有响应

### SEO分析功能
- [ ] 分析请求发送成功
- [ ] 返回分析结果
- [ ] SEO评分显示正常
- [ ] 各项检查结果显示
- [ ] 关键词提取正常
- [ ] 优化建议显示

### 错误处理
- [ ] 无效URL显示错误提示
- [ ] 网络错误有友好提示
- [ ] 后端错误有适当处理

---

## 🔒 安全检查

### 安全配置
- [ ] 使用HTTPS（自动配置）
- [ ] CORS配置正确（只允许前端域名）
- [ ] 环境变量未暴露在代码中
- [ ] 无敏感信息在Git仓库中

### 性能优化
- [ ] 静态资源已优化
- [ ] 图片已压缩（如果有）
- [ ] CSS/JS已压缩（可选）

---

## 📊 监控设置

### 监控工具（可选）
- [ ] 设置Uptime监控（UptimeRobot等）
- [ ] 配置错误追踪（Sentry等）
- [ ] 设置性能监控

### 日志
- [ ] 后端日志可查看
- [ ] 前端错误日志可追踪

---

## 🌍 自定义域名（可选）

### 域名配置
- [ ] 购买域名
- [ ] 在Vercel配置自定义域名
- [ ] 在Railway配置自定义域名（如果需要）
- [ ] 配置DNS记录
- [ ] SSL证书自动配置（Vercel/Railway自动处理）

### 验证
- [ ] 自定义域名可以访问
- [ ] HTTPS正常工作
- [ ] 所有功能正常

---

## 📝 文档更新

### 文档
- [ ] 更新README中的部署说明
- [ ] 记录生产环境URL
- [ ] 记录环境变量配置

---

## 🎉 部署完成

### 最终验证
- [ ] 前端完全正常
- [ ] 后端API正常
- [ ] SEO分析功能正常
- [ ] 无控制台错误
- [ ] 无网络错误
- [ ] 响应速度正常

### 分享
- [ ] 记录生产环境URL
- [ ] 可以分享给用户使用

---

## 🐛 问题排查

如果遇到问题，检查：

1. **CORS错误**
   - 检查Railway的CORS_ORIGIN配置
   - 确保与前端URL完全匹配

2. **API无法访问**
   - 检查Railway项目状态
   - 查看Railway日志
   - 测试健康检查端点

3. **前端找不到API**
   - 检查 `config.js` 中的API地址
   - 确认URL格式正确（包含https://和/api）

4. **功能异常**
   - 查看浏览器控制台
   - 查看后端日志
   - 检查网络请求

---

**完成所有检查项后，您的网站已成功上线！** 🎉

